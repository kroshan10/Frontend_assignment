"use strict";(self.webpackChunktaiyo_assignment=self.webpackChunktaiyo_assignment||[]).push([[543],{8486:function(e,t,a){a.r(t),a.d(t,{default:function(){return A}});var s=a(4165),n=a(5861),r=a(9439),i=a(1989),o=a(2791),c=a(5671),l=a(3144),d=a(136),u=a(7277),h=a(3496),m=a(184),p=function(e){(0,d.Z)(a,e);var t=(0,u.Z)(a);function a(e){var s;return(0,c.Z)(this,a),(s=t.call(this,e)).state={series:[{name:"Cases",data:e.cases,fill:{colors:["rgba(255, 196, 83, 0.5)"]}},{name:"recovered",data:e.recovered,fill:{colors:["rgba(68, 227, 119,0.5)"]}},{name:"deaths",data:e.deaths,fill:{colors:["rgba(241, 77, 77, 0.5)"]}}],options:{chart:{id:"area-datetime",type:"datetime",height:350,zoom:{autoScaleYaxis:!0}},annotations:{yaxis:[{y:30,borderColor:"#999",label:{show:!0,style:{color:"#fff",background:"#00E396"}}}],xaxis:[{x:new Date("14 Nov 2012").getTime(),borderColor:"#999",yAxisIndex:0,label:{show:!0,style:{color:"#fff",background:"#775DD0"}}}]},dataLabels:{enabled:!1},markers:{size:0,style:"hollow"},xaxis:{type:"datetime",tickAmount:6},tooltip:{x:{format:"dd MMM yyyy"}},fill:{type:"gradient",gradient:{shadeIntensity:1,opacityFrom:.7,opacityTo:.9,stops:[0,100]}}},selection:"one_year"},s}return(0,l.Z)(a,[{key:"updateData",value:function(e){switch(this.setState({selection:e}),e){case"one_month":ApexCharts.exec("area-datetime","zoomX",new Date("28 Jan 2013").getTime(),new Date("27 Feb 2013").getTime());break;case"six_months":ApexCharts.exec("area-datetime","zoomX",new Date("27 Sep 2012").getTime(),new Date("27 Feb 2013").getTime());break;case"one_year":ApexCharts.exec("area-datetime","zoomX",new Date("27 Feb 2012").getTime(),new Date("27 Feb 2013").getTime());break;case"ytd":ApexCharts.exec("area-datetime","zoomX",new Date("01 Jan 2013").getTime(),new Date("27 Feb 2013").getTime());break;case"all":ApexCharts.exec("area-datetime","zoomX",new Date("23 Jan 2012").getTime(),new Date("27 Feb 2013").getTime())}}},{key:"render",value:function(){var e=this;return(0,m.jsxs)("div",{id:"chart",children:[(0,m.jsxs)("div",{className:"toolbar",children:[(0,m.jsx)("button",{id:"one_month",onClick:function(){return e.updateData("one_month")},className:"one_month"===this.state.selection?"active":"",children:"1M"}),"\xa0",(0,m.jsx)("button",{id:"six_months",onClick:function(){return e.updateData("six_months")},className:"six_months"===this.state.selection?"active":"",children:"6M"}),"\xa0",(0,m.jsx)("button",{id:"one_year",onClick:function(){return e.updateData("one_year")},className:"one_year"===this.state.selection?"active":"",children:"1Y"}),"\xa0",(0,m.jsx)("button",{id:"ytd",onClick:function(){return e.updateData("ytd")},className:"ytd"===this.state.selection?"active":"",children:"YTD"}),"\xa0",(0,m.jsx)("button",{id:"all",onClick:function(){return e.updateData("all")},className:"all"===this.state.selection?"active":"",children:"ALL"})]}),(0,m.jsx)("div",{id:"chart-timeline",children:(0,m.jsx)(h.Z,{options:this.state.options,series:this.state.series,type:"area",height:500})})]})}}]),a}(o.Component),x=a(1413),f=a(1933),v=a(6042),g=a(9500),y=a(9961),j=a(7626),b={attribution:'&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"},w=a(8559),D=a.n(w),k=(a(3666),[52.22977,21.01178]),N=[{lat:33,lng:65,title:"AF"},{lat:41,lng:20,title:"ALB"},{lat:28,lng:3,title:"DZA"},{lat:52.23040500771883,lng:21.012146472930908,title:"hello_"}];function Z(e){var t='\n    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" class="marker">\n      <path fill-opacity=".25" d="M16 32s1.427-9.585 3.761-12.025c4.595-4.805 8.685-.99 8.685-.99s4.044 3.964-.526 8.743C25.514 30.245 16 32 16 32z"/>\n      <path fill="#'.concat(e,'" stroke="#fff" d="M15.938 32S6 17.938 6 11.938C6 .125 15.938 0 15.938 0S26 .125 26 11.875C26 18.062 15.938 32 15.938 32zM16 6a4 4 0 100 8 4 4 0 000-8z"/>\n    </svg>');return new(D().DivIcon)({className:"test",html:t,iconSize:[40,40],iconAnchor:[12,24],popupAnchor:[7,-16]})}var C=function(e){e.data;var t=e.data2;console.log(t,"country specific marker");var a=[];return t.map((function(e){return a.push({country:e.country,lat:e.countryInfo.lat,lng:e.countryInfo.long,active:e.active,deaths:e.deaths,recovered:e.recovered})})),console.log(a,"thisPoints"),a.map((function(e,t){var a=e.lat,s=e.lng,n=e.country,r=e.active,i=e.deaths,o=e.recovered;return(0,m.jsx)(v.J,{position:[a,s],icon:Z("B2022F"),children:(0,m.jsxs)(g.G,{children:[(0,m.jsx)("p",{className:"text-[#323232] font-medium",children:n}),(0,m.jsxs)("p",{className:"text-yellow-600 text-xs",children:["Active: ",(0,m.jsx)("span",{className:"font-medium",children:r})]}),(0,m.jsxs)("p",{className:"text-red-600 text-xs",children:["Deaths: ",(0,m.jsx)("span",{className:"font-medium",children:i})]}),(0,m.jsxs)("p",{className:"text-green-600 text-xs",children:["Recovered: ",(0,m.jsx)("span",{className:"font-medium",children:o})]})]})},t)}))},T=function(){var e=(0,o.useState)([]),t=(0,r.Z)(e,2),a=(t[0],t[1],(0,f.useQuery)("getWorldWideData",(0,n.Z)((0,s.Z)().mark((function e(){var t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://disease.sh/v3/covid-19/all");case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)}))))),i=(a.data,a.error),c=a.isLoading,l=(0,f.useQuery)("getCountryData",(0,n.Z)((0,s.Z)().mark((function e(){var t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://disease.sh/v3/covid-19/countries");case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)})))),d=l.data,u=l.error,h=l.isLoading;return console.log(d,"country specific data"),i?(0,m.jsx)("div",{children:"Request Failed"}):c?(0,m.jsx)("div",{children:"Loading..."}):u?(0,m.jsx)("div",{children:"Request Failed"}):h?(0,m.jsx)("div",{children:"Loading..."}):(0,m.jsx)("div",{children:(0,m.jsxs)(y.h,{className:"map",center:k,zoom:5,scrollWheelZoom:!0,children:[(0,m.jsx)(j.I,(0,x.Z)({},b)),(0,m.jsx)(C,{data:N,data2:d})]})})},_=a(7743),A=function(){var e=(0,o.useState)(!0),t=(0,r.Z)(e,2),a=t[0],c=t[1],l=function(){c(!a)},d=(0,o.useState)([]),u=(0,r.Z)(d,2),h=u[0],x=u[1],f=(0,o.useState)([]),v=(0,r.Z)(f,2),g=v[0],y=v[1],j=(0,o.useState)([]),b=(0,r.Z)(j,2),w=b[0],D=b[1],k=function(){var e=(0,n.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i.Z.get("https://disease.sh/v3/covid-19/historical/all?lastdays=all").then((function(e){var t=e.data,a=t.cases,s=t.deaths,n=t.recovered,r=[],i=[],o=[];new Date;Object.entries(a).map((function(e){var t=new Date(e[0]);r.push([t.getTime(),e[1]])})),Object.entries(s).map((function(e){var t=new Date(e[0]);i.push([t.getTime(),e[1]])})),Object.entries(n).map((function(e){var t=new Date(e[0]);o.push([t.getTime(),e[1]])})),x(r),y(i),D(o),console.log(r),console.log(i),console.log(o)})).catch((function(e){console.log(e)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,o.useEffect)((function(){k()}),[]),(0,m.jsxs)("div",{className:"flex lg:flex-row flex-col",children:[(0,m.jsx)(_.Z,{}),(0,m.jsxs)("div",{className:"lg:w-[1190px] w-full flex flex-col justify-center items-center",children:[a?(0,m.jsxs)("div",{className:"flex items-center gap-5",children:[(0,m.jsx)("p",{className:"p-4 text-base text-primary uppercase cursor-pointer font-medium",onClick:l,children:"Line Graph"}),(0,m.jsx)("p",{className:"p-4 text-base text-cyan uppercase ursor-pointer font-medium",children:"Leaflet Map"})]}):(0,m.jsxs)("div",{className:"flex items-center gap-5",children:[(0,m.jsx)("p",{className:"p-4 text-base text-cyan uppercase cursor-pointer font-medium",children:"Line Graph"}),(0,m.jsx)("p",{className:"p-4 text-base text-primary uppercase cursor-pointer font-medium",onClick:l,children:"Leaflet Map"})]}),a?(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(T,{})}):(0,m.jsx)("div",{className:"w-full",children:(0,m.jsx)(p,{cases:h,deaths:g,recovered:w})})]})]})}}}]);
//# sourceMappingURL=543.45619ef4.chunk.js.map